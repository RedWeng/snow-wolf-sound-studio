# 🚀 本地測試設定 - 使用 Supabase（免費）

## 📌 不需要 Vercel，直接在本地測試！

---

## 🎯 只需要 3 個步驟（總共 8 分鐘）

### 步驟 1️⃣：建立 Supabase 專案（5 分鐘）

1. **打開瀏覽器**，前往：https://supabase.com/

2. **註冊/登入帳號**（可以用 GitHub 登入，超快）

3. **點擊「New Project」**

4. **填寫資料**：
   - **Name**：`snow-wolf-sound-studio`
   - **Database Password**：設定一個密碼（記下來）
   - **Region**：選擇 `Northeast Asia (Tokyo)` 或 `Southeast Asia (Singapore)`
   - **Pricing Plan**：選擇 **Free**（完全免費）

5. **點擊「Create new project」**

6. **等待 2-3 分鐘**，專案建立中...

7. **專案建立完成後**，點擊左側的「Settings」→「API」

8. **複製兩個資訊**：
   - **Project URL**（例如：`https://xxxxx.supabase.co`）
   - **anon public key**（一串很長的文字）

✅ **完成！**

---

### 步驟 2️⃣：設定環境變數（1 分鐘）

1. **在專案根目錄**找到 `.env.local` 檔案（如果沒有就建立一個）

2. **貼上以下內容**（替換成你的資訊）：

```env
NEXT_PUBLIC_SUPABASE_URL=你的_Project_URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=你的_anon_public_key
```

例如：
```env
NEXT_PUBLIC_SUPABASE_URL=https://abcdefgh.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

3. **儲存檔案**

✅ **完成！**

---

### 步驟 3️⃣：執行自動化設定（2 分鐘）

1. **打開終端機**

2. **執行設定指令**：
   ```bash
   npm run setup
   ```

3. **等待腳本執行**，你會看到：
   - ✅ 檢測到 Supabase
   - ✅ 驗證環境變數
   - ✅ 建立資料表
   - ✅ 遷移課程資料
   - ✅ 驗證完成

✅ **完成！**

---

### 步驟 4️⃣：啟動測試（1 分鐘）

```bash
npm run dev
```

打開瀏覽器：
- **管理員後台**：http://localhost:3000/admin/sessions
- **前台課程**：http://localhost:3000/sessions

✅ **一切都可以正常使用了！**

---

## 🎉 就這麼簡單！

```
步驟 1: 建立 Supabase 專案 (5 分鐘)
   ↓
步驟 2: 設定 .env.local (1 分鐘)
   ↓
步驟 3: 執行 npm run setup (2 分鐘)
   ↓
步驟 4: 執行 npm run dev (1 分鐘)
   ↓
完成！🎊
```

---

## 💡 為什麼用 Supabase？

- ✅ **完全免費**（不需要信用卡）
- ✅ **不需要 Vercel**（可以純本地測試）
- ✅ **功能完整**（PostgreSQL 資料庫）
- ✅ **設定簡單**（只需要複製兩個值）
- ✅ **之後可以輕鬆部署**到任何平台

---

## 🆘 如果遇到問題

### 問題 1：找不到 .env.local 檔案
**解決方法**：
```bash
# 在專案根目錄執行
echo NEXT_PUBLIC_SUPABASE_URL=你的URL > .env.local
echo NEXT_PUBLIC_SUPABASE_ANON_KEY=你的KEY >> .env.local
```

### 問題 2：npm run setup 失敗
**解決方法**：
1. 確認 `.env.local` 的內容正確
2. 確認 Supabase 專案已經建立完成
3. 重新執行：`npm run setup`

### 問題 3：看不到課程資料
**解決方法**：
- 檢查終端機的錯誤訊息
- 前往 Supabase 儀表板 → Table Editor，確認資料表已建立
- 重新整理瀏覽器

---

## 📝 設定完成後可以做什麼？

### 管理員功能
- ✅ 新增課程
- ✅ 編輯課程
- ✅ 複製課程
- ✅ 刪除課程
- ✅ 查看所有課程

### 前台功能
- ✅ 查看課程
- ✅ 選擇孩子報名
- ✅ 選擇配音角色
- ✅ 加購項目
- ✅ 完成結帳

---

## 🎯 現在就開始吧！

1. 前往 https://supabase.com/
2. 建立免費專案
3. 複製 URL 和 Key 到 `.env.local`
4. 執行 `npm run setup`
5. 執行 `npm run dev`

**就這麼簡單！** 🚀

---

## 💰 費用說明

- **Supabase Free Plan**：
  - ✅ 500MB 資料庫空間
  - ✅ 無限 API 請求
  - ✅ 50,000 月活躍使用者
  - ✅ 完全免費，不需要信用卡

**對你的專案來說綽綽有餘！** 😊

---

**有任何問題隨時問我！** 🙋‍♂️
